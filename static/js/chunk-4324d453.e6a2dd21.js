(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4324d453"],{"0a1b":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"文物名称",prop:"antiqueName"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueName,callback:function(t){e.$set(e.form,"antiqueName",t)},expression:"form.antiqueName"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"文物种类",prop:"antiqueType"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueType,callback:function(t){e.$set(e.form,"antiqueType",t)},expression:"form.antiqueType"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"文物朝代",prop:"antiqueDynasty"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueDynasty,callback:function(t){e.$set(e.form,"antiqueDynasty",t)},expression:"form.antiqueDynasty"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"文物地域",prop:"antiqueArea"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueArea,callback:function(t){e.$set(e.form,"antiqueArea",t)},expression:"form.antiqueArea"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"文物材质"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueTexture,callback:function(t){e.$set(e.form,"antiqueTexture",t)},expression:"form.antiqueTexture"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"文物用途"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueUsage,callback:function(t){e.$set(e.form,"antiqueUsage",t)},expression:"form.antiqueUsage"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"文物完整度"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueCompletion,callback:function(t){e.$set(e.form,"antiqueCompletion",t)},expression:"form.antiqueCompletion"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"文物长度"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueLength,callback:function(t){e.$set(e.form,"antiqueLength",t)},expression:"form.antiqueLength"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"文物宽度"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueWidth,callback:function(t){e.$set(e.form,"antiqueWidth",t)},expression:"form.antiqueWidth"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"文物高度"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueHeight,callback:function(t){e.$set(e.form,"antiqueHeight",t)},expression:"form.antiqueHeight"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"文物重量"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueWeight,callback:function(t){e.$set(e.form,"antiqueWeight",t)},expression:"form.antiqueWeight"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"文物数量"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueCount,callback:function(t){e.$set(e.form,"antiqueCount",t)},expression:"form.antiqueCount"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"博物馆ID"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.museumId,callback:function(t){e.$set(e.form,"museumId",t)},expression:"form.museumId"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"作者ID"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.authorId,callback:function(t){e.$set(e.form,"authorId",t)},expression:"form.authorId"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"按赞数"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueLikeCount,callback:function(t){e.$set(e.form,"antiqueLikeCount",t)},expression:"form.antiqueLikeCount"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"收藏数"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueFavouriteCount,callback:function(t){e.$set(e.form,"antiqueFavouriteCount",t)},expression:"form.antiqueFavouriteCount"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"收藏部门"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueCollectionDepartment,callback:function(t){e.$set(e.form,"antiqueCollectionDepartment",t)},expression:"form.antiqueCollectionDepartment"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"文物来源"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueSource,callback:function(t){e.$set(e.form,"antiqueSource",t)},expression:"form.antiqueSource"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"收藏日期"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueCollectionDate,callback:function(t){e.$set(e.form,"antiqueCollectionDate",t)},expression:"form.antiqueCollectionDate"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"注册数目"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueRegistrationNum,callback:function(t){e.$set(e.form,"antiqueRegistrationNum",t)},expression:"form.antiqueRegistrationNum"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"认证日期"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueIdentificationDate,callback:function(t){e.$set(e.form,"antiqueIdentificationDate",t)},expression:"form.antiqueIdentificationDate"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"文物等级"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueLevel,callback:function(t){e.$set(e.form,"antiqueLevel",t)},expression:"form.antiqueLevel"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"鉴定人"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueAppraiser,callback:function(t){e.$set(e.form,"antiqueAppraiser",t)},expression:"form.antiqueAppraiser"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"保护等级"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueProtectionLevel,callback:function(t){e.$set(e.form,"antiqueProtectionLevel",t)},expression:"form.antiqueProtectionLevel"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"删除标识"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.delFlag,callback:function(t){e.$set(e.form,"delFlag",t)},expression:"form.delFlag"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"文物音频"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueAudio,callback:function(t){e.$set(e.form,"antiqueAudio",t)},expression:"form.antiqueAudio"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"文物描述"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueDesc,callback:function(t){e.$set(e.form,"antiqueDesc",t)},expression:"form.antiqueDesc"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"文物Img"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueImg,callback:function(t){e.$set(e.form,"antiqueImg",t)},expression:"form.antiqueImg"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"文物模型"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiqueModel,callback:function(t){e.$set(e.form,"antiqueModel",t)},expression:"form.antiqueModel"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"文物Pic"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:e.form.antiquePic,callback:function(t){e.$set(e.form,"antiquePic",t)},expression:"form.antiquePic"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("创建")]),e._v(" "),a("el-button",{on:{click:e.handleCancel}},[e._v("取消")])],1)],1)],1)},i=[],o=a("291a"),l=a("5f87"),r={antiqueId:"",seqNo:"",antiqueName:"",antiqueType:"",antiqueDynasty:"",antiqueArea:"",antiqueTexture:"111",antiqueUsage:"1",antiqueCompletion:"2",antiqueLength:"100",antiqueWidth:"100",antiqueHeight:"100",antiqueWeight:"100",antiqueCount:"100",museumId:"111111",authorId:"111111",antiqueLikeCount:"100",antiqueFavouriteCount:"100",antiqueCollectionDepartment:"",antiqueSource:"",antiqueCollectionDate:"",antiqueRegistrationNum:"",antiqueIdentificationDate:"",antiqueLevel:"",antiqueAppraiser:"",antiqueProtectionLevel:"",createDate:"",creator:"",updateDate:"",updater:"",delFlag:"",antiqueAudio:"/audio/file.mp3",antiqueDesc:"这是文物描述",antiqueImg:"/img/file.png",antiqueModel:"/model/file.obj",antiquePic:"/pic/file.mtl"},u={props:{isEdit:{type:Boolean,default:!1}},data:function(){var e=this,t=function(t,a,n){""===a?(e.$message({message:t.field+"为必填项",type:"error"}),n(new Error(t.field+"为必填项"))):n()};return{form:Object.assign({},r),rules:{antiqueName:[{validator:t}],antiqueType:[{validator:t}],antiqueDynasty:[{validator:t}],antiqueArea:[{validator:t}]},tempRoute:{}}},created:function(){if(this.isEdit){var e=this.$route.params&&this.$route.params.id;this.getDetails(e)}else this.form=Object.assign({},r);this.tempRoute=Object.assign({},this.$route)},methods:{getDetails:function(e){var t=this;Object(o["d"])({antiqueId:e}).then((function(e){console.log(e),t.form=e.data,t.setPageTitle()}))},setPageTitle:function(){var e="Edit Antique";document.title="".concat(e," - ").concat(this.form.userName)},handleSubmit:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return console.log("err submit"),!1;e.isEdit?(e.form=Object.assign(e.form,{updateDate:(new Date).getTime(),updater:Object(l["b"])()}),Object(o["c"])(Object(l["b"])(),e.form).then((function(t){console.log(t),200===t.code?(e.$notify({title:"成功",message:"文物信息已编辑",type:"success",duration:2e3}),e.$router.push("/relic/relic-list")):e.$notify({title:"Error",type:"error",duration:2e3})}))):(e.form=Object.assign(e.form,{createDate:(new Date).getTime(),creator:Object(l["b"])()}),console.log(e.form),Object(o["a"])(Object(l["b"])(),e.form).then((function(t){200===t.code?(e.$notify({title:"成功",message:"文物已创建",type:"success",duration:2e3}),e.$router.push("/relic/relic-list")):e.$notify({title:"Error",type:"error",duration:2e3})})))}))},handleCancel:function(){this.$router.go(-1)}}},s=u,m=(a("dd2f"),a("2877")),c=Object(m["a"])(s,n,i,!1,null,"0a6b58cc",null);t["a"]=c.exports},"291a":function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return u}));var n=a("b775");function i(e){return Object(n["a"])({url:"/museum-antique/api/antique/list",method:"get",params:e})}function o(e){return Object(n["a"])({url:"/museum-antique/api/antique",method:"get",params:e})}function l(e,t){return Object(n["a"])({url:"/museum-antique/api/antique?currentUserId=".concat(e),method:"put",data:t})}function r(e,t){return Object(n["a"])({url:"/museum-antique/api/antique?currentUserId=".concat(e),method:"post",data:t})}function u(e){return Object(n["a"])({url:"/museum-antique/api/antique",method:"delete",params:e})}},d4ac:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("antique",{attrs:{"is-edit":!1}})},i=[],o=a("0a1b"),l={name:"CreateAntique",components:{Antique:o["a"]}},r=l,u=a("2877"),s=Object(u["a"])(r,n,i,!1,null,null,null);t["default"]=s.exports},dd2f:function(e,t,a){"use strict";var n=a("e7a4"),i=a.n(n);i.a},e7a4:function(e,t,a){}}]);